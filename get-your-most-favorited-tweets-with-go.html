<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="I wanted to find my most favorited tweets of all time. I figured I should know what those are so I can re-home them (or some version of their spirit) elsewhere in case the ol bird kicks the can. Turbulent times over there."><meta name=author content="Aldo Pusey"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=VibeX><title>Get Your Most Favorited Tweets With Go Chris Coyier - VibeX</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[VibeX]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-09-17>September 17, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>Get Your Most Favorited Tweets With Go Chris Coyier</h1><section class=body itemprop=articleBody><p>I wanted to find my most favorited tweets of all time. I figured I should know what those are so I can re-home them (or some version of their spirit) elsewhere in case the ol‚Äô bird kicks the can. Turbulent times over there.</p><p>Twitter has some built-in analytics tooling that I couldn‚Äôt quite figure out how to make work for ‚Äúall time‚Äù. I couldn‚Äôt find any third-party thing that seemed to work for that time frame either.</p><p>But you can request and then download <a href=#>an archive of all your Twitter data</a>. I‚Äôd highly recommend snagging your archive and tucking it away somewhere, just so you‚Äôll always have that information should you want it someday. Things are so weird over there I wouldn‚Äôt bet a nickel that exporting all your data is going to continue to work.</p><p>Turns out I‚Äôve tweeted 40,586 times. Took me about 24 hours to get.</p><p>With an archive of all my tweets, I figured I could extract the most favorites ones. I am, ostensibly, a computer programmer. Let‚Äôs do it, and do it in Go because whatever Go is cool and fast and good.</p><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=step-1-get-the-data></a>Step 1: Get the data</h2><p>Download the archive and you‚Äôll get a <code>.zip</code> you can open:</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2022/11/Screenshot-2022-11-07-at-3.06.00-PM.png><p>The juicy file is <code>data/tweets.js</code>.</p><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=step-2-turn-it-into-json></a>Step 2: Turn it into JSON</h2><p>I wanted JSON data, so what I did was remove the <code>window.YTD.tweets.part0 =</code> part and made it valid JSON. Just to avoid touching the gigantic file too much I named the array, so with alternations, my new <code>data/tweets.json</code> file is like:</p><pre class=wp-block-code aria-describedby=shcb-language-1 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">{ <span class=hljs-string>"tweets"</span>: [ { <span class=hljs-string>"tweet"</span>: { <span class=hljs-string>"favorite_count"</span>: <span class=hljs-string>"9"</span>, <span class=hljs-string>"id_str"</span>: <span class=hljs-string>"1589326526302113792"</span>, <span class=hljs-string>"full_text"</span>: <span class=hljs-string>"pee pee poo poo"</span> }, }, { <span class=hljs-string>"tweet"</span>: { ... } }, ... ] }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>It feels like somewhat of a silly structure. I feel like it should be a top-level array and they each of them don‚Äôt need the parent ‚Äútweet‚Äù naming. But whatever, it‚Äôs valid JSON.</p><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=step-3-its-go-time></a>Step 3: It‚Äôs Go time</h2><p>I made a <code>main.go</code> file in the root of the export. Ultimately I needed to <code>json.Unmarshal</code> the JSON to use it. But Go needs to have all the data typed, so to match that weird structure:</p><pre class=wp-block-code aria-describedby=shcb-language-2 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">package main type Tweets struct {TweetParents []TweetParent <span class=hljs-string>`json:"tweets"`</span> } type TweetParent struct {Tweet Tweet <span class=hljs-string>`json:"tweet"`</span> } type Tweet struct {FavoriteCount string <span class=hljs-string>`json:"favorite_count"`</span>ID string <span class=hljs-string>`json:"id_str"`</span>FullText string <span class=hljs-string>`json:"full_text"`</span> }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>There is way more data in that JSON, but all I really wanted was the favorite count, the text, and the ID so I could construct a URL. Fortunately, Go lets you parse the JSON with an incomplete type (which seems unnaturally chill of Go, but hey, cool).</p><p>So open the file, snag out the byte data, and unmarshal it:</p><pre class=wp-block-code aria-describedby=shcb-language-3 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">func main() {jsonFile, <span class=hljs-attr>err</span> := os.Open(<span class=hljs-string>"./data/tweets.json"</span>) <span class=hljs-keyword>if</span> err != nil {fmt.Println(err)}byteValue, <span class=hljs-attr>err</span> := ioutil.ReadAll(jsonFile) <span class=hljs-keyword>if</span> err != nil {fmt.Println(err)}err = json.Unmarshal(byteValue, &amp;tweets) <span class=hljs-keyword>if</span> err != nil {fmt.Println(err)} ...</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>Error handling for days, Go style.</p><p>Now <code>tweets</code> is a big ol‚Äô array of data to munge. 40k is no problem for Go.</p><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=step-4-that-cool-refreshing-slice-to-sort></a>Step 4: That Cool Refreshing Slice to Sort</h2><p>At this point I got annoyed enough at the weird structure I found it prudent to make just a regular <code>[]slice</code> of tweets, so I forced the issue:</p><pre class=wp-block-code aria-describedby=shcb-language-4 data-shcb-language-name="HTML, XML" data-shcb-language-slug=xml><span><code class="hljs language-xml">type RegularTweetsSlice []Tweet var allTweets RegularTweetsSlice for i := 0; i <span class=hljs-tag>&lt; <span class=hljs-attr>len</span>(<span class=hljs-attr>tweets.TweetParents</span>); <span class=hljs-attr>i</span>++ { <span class=hljs-attr>allTweets</span> = <span class=hljs-string>append(allTweets,</span> <span class=hljs-attr>tweets.TweetParents</span>[<span class=hljs-attr>i</span>]<span class=hljs-attr>.Tweet</span>) }</span></code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>HTML, XML</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>xml</span><span class=shcb-language__paren>)</span></pre><p>Still annoying: the favorite count is a <code>string</code> of an <code>int</code>. üôÑ So when we go to sort it, we gotta coerce into an int first. But hey Go 1.18 apparently made this a lot easier:</p><pre class=wp-block-code aria-describedby=shcb-language-5 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">sort.Slice(allTweets, func(i, j int) bool {favCountA, <span class=hljs-attr>_</span> := strconv.Atoi(allTweets[i].FavoriteCount)favCountB, <span class=hljs-attr>_</span> := strconv.Atoi(allTweets[j].FavoriteCount) <span class=hljs-keyword>return</span> favCountA &gt; favCountB })</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>Now <code>allTweets</code> is an in-order slice of every tweet I‚Äôve ever twote.</p><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=step-5-do-something-with-them></a>Step 5: Do something with them.</h2><p>I have no idea what that is yet, but hey at least I got the data I want.</p><p>For now I can just barf them out:</p><pre class=wp-block-code aria-describedby=shcb-language-6 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">func printOutput(Tweet Tweet) {fmt.Println(<span class=hljs-string>"Number of favorites:"</span>, Tweet.FavoriteCount)fmt.Println(<span class=hljs-string>"Tweet:"</span>, Tweet.FullText)fmt.Println(<span class=hljs-string>"URL:"</span>, fmt.Sprintf(<span class=hljs-string>`https://twitter.com/i/web/status/%s`</span>, Tweet.ID))fmt.Println(<span class=hljs-string>"----"</span>) }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>At the end of my <code>main</code> function then I can just spit out 10 or so:</p><pre class=wp-block-code><span><code class=hljs>for i := 0; i &lt; 10; i++ {printOutput(allTweets[i]) }</code></span></pre><h2 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=heres-mine-top-10></a>Here‚Äôs mine top 10:</h2><h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3229></a>Number of favorites: 3229</h4><p>hey ive been a little busy this week ive started a new role in support</p><a href=#>Nov 3, 2017</a> ‚Äî My daughter Ruby was born<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3240></a>Number of favorites: 3240</h4><p>Very clever CSS trickery here from Carter Li. If you declare a CSS Custom Property as an &lt;integer>, then it can be interpolated as an integer. Meaning it can be animated!</p><a href=#>Oct 8, 2020</a> ‚Äî CSS-Tricks article about a cool thing @property can do<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3319></a>Number of favorites: 3319</h4><p>You know like when your parents ask you a technology question and you don‚Äôt know the answer but you figure out and fix the problem anyway through troubleshooting?</p><p>That‚Äôs why you should apply to basically any job you want.</p><a href=#>Dec 22, 2018</a> ‚Äî Truth<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3348></a>Number of favorites: 3348</h4><p>I‚Äôd watch a documentary series of developers giving a tour of their codebases.</p><a href=#>Jan 5, 2019</a> ‚Äî&nbsp;I changed my mind now I only like art theft documentaries<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3747></a>Number of favorites: 3747</h4><p>I used to be all like</p><p><code>console.log("myVariable: ", myVariable);</code></p><p>and now I be all like</p><p><code>console.log({ myVariable });</code></p><p>cuz DevTools automatically logs it with the name then.</p><a href=#>Nov 10, 2020</a> ‚Äî I still forgot to do this a lot.<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-3760></a>Number of favorites: 3760</h4><p>Serverless.</p>Apr 8, 2018 ‚Äî <a href=#>This meme I did.</a><h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-4006></a>Number of favorites: 4006</h4><p>who called it a front-end dev and not a diveloper</p><a href=#>Oct 11, 2018</a><h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-4584></a>Number of favorites: 4584</h4><p>Write the article you wish you found when you googled something.</p><a href=#>Oct 30, 2017</a> ‚Äî My advice for writing for CSS-Tricks<h4 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=number-of-favorites-5633></a>Number of favorites: 5633</h4><p>hey mom that dumb website i started in your basement now has half a million twitter followers.</p><a href=#>Nov 4, 2021</a> ‚Äî A tweet celebrating a Twitter milestone<p class=has-small-font-size>Now if I could only find a programmatic way to find what my favorite tweets (of my own) were.</p><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpa2dhZnxxhI6gnK1lqaTCs3nMqKqtZZaWw7C%2ByK2cnWWkrLKmwNJmrqKsmGK0sHs%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 VibeX - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>